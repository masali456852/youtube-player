<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Ù…Ø´ØºÙ‘Ù„ YouTube Ø¨Ø¯ÙˆÙ† API + MP4 + HLS</title>

<style>
body{background:#0b1020;color:#fff;font-family:Tahoma;padding:20px;margin:0}
.box{max-width:900px;margin:auto;background:#121a33;padding:16px;border-radius:12px;border:1px solid rgba(255,255,255,.15)}
.row{display:flex;gap:10px;flex-wrap:wrap}
input{flex:1 1 500px;padding:12px;border-radius:10px;border:1px solid rgba(255,255,255,.2);
      background:rgba(0,0,0,.25);color:#fff;direction:ltr}
button{padding:11px 14px;border-radius:10px;border:0;background:#5b8cff;color:#07102a;font-weight:bold;cursor:pointer}
.msg{font-size:13px;margin-top:8px;color:#a9b3d6}
.player{margin-top:20px;border-radius:14px;overflow:hidden;background:#000;border:1px solid rgba(255,255,255,.15)}
.ratio{position:relative;padding-top:56.25%}
iframe,video{position:absolute;inset:0;width:100%;height:100%;border:0;background:#000}
video{display:none}
</style>

<!-- hls.js Ù„ØªØ´ØºÙŠÙ„ m3u8 -->
<script/cdn.jsdelivr.net/npm/hls.js@latest
</head>

<body>
<div class="box">
  <h3>Ø¶Ø¹ Ø±Ø§Ø¨Ø· YouTube / MP4 / M3U8 Ø«Ù… Ø§Ø¶ØºØ· ØªØ´ØºÙŠÙ„</h3>

  <div class="row">
    <input id="url" placeholder="https://youtu.be/ID Ø£Ùˆ https://example.com/video.mp4 Ø£Ùˆ master.m3u8">
    <button id="playBtn">ØªØ´ØºÙŠÙ„</button>
  </div>

  <div id="msg" class="msg">Ù…Ù„Ø§Ø­Ø¸Ø©: Ù„Ø§ ÙŠØªÙ… Ø§Ø³ØªØ®Ø¯Ø§Ù… YouTube API Ù„ØªØ¬Ù†Ø¨ Ø§Ù„Ø­Ø¸Ø±. Ø§Ù„ØªØ´ØºÙŠÙ„ ÙŠØªÙ… Ø¹Ø¨Ø± iframe Ù…Ø¨Ø§Ø´Ø±.</div>

  <div class="player" id="playerBox" style="display:none">
    <div class="ratio">
      <iframe id="ytFrame"></iframe>
      <video id="video" controls playsinline crossorigin="anonymous"></video>
    </div>
  </div>
</div>

<script>
(function(){
  const $ = id => document.getElementById(id);
  const input = $('url');
  const playBtn = $('playBtn');
  const msg = $('msg');
  const playerBox = $('playerBox');
  const ytFrame = $('ytFrame');
  const video = $('video');

  function extractYT(url){
    try{
      const u=new URL(url);
      if(u.hostname==="youtu.be") return u.pathname.substring(1);
      if(u.searchParams.get("v")) return u.searchParams.get("v");
      if(u.pathname.includes("/embed/")) return u.pathname.split("/embed/")[1];
      if(u.pathname.includes("/shorts/")) return u.pathname.split("/shorts/")[1];
    }catch{}
    const m = url.match(/(?:v=|youtu\.be\/|embed\/)([A-Za-z0-9_-]{6,})/);
    return m?m[1]:null;
  }

  playBtn.onclick = ()=>{

    let u = input.value.trim();
    if(!u){ msg.innerHTML="âŒ <span class='err'>Ø£Ø¯Ø®Ù„ Ø±Ø§Ø¨Ø·Ù‹Ø§.</span>"; return; }

    // ØªÙ†Ø¸ÙŠÙ ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø´ØºÙ„
    video.style.display='none';
    ytFrame.style.display='none';
    video.pause();
    video.removeAttribute("src");
    ytFrame.removeAttribute("src");

    playerBox.style.display="block";

    // YouTube
    if(u.includes("youtu")){
      const id = extractYT(u);
      if(!id){ msg.innerHTML="âŒ <spanØªÙ…Ø§Ù… ÙŠØ§ Ù…Ø­Ù…Ø¯! âœ…  
Ø¨Ù…Ø§ Ø£Ù†Ùƒ Ø§Ø®ØªØ±Øª **Ø§Ù„Ø­Ù„ Ø±Ù‚Ù… 1** â€” ÙˆÙ‡Ùˆ Ø§Ù„Ø­Ù„ Ø§Ù„Ø°Ù‡Ø¨ÙŠ Ù„Ù…Ø´ÙƒÙ„ØªÙƒ â€”  
ÙØ³Ø£Ø¹Ø·ÙŠÙƒ Ø§Ù„Ø¢Ù† **Ù…Ø´ØºÙ‘Ù„ YouTube ÙƒØ§Ù…Ù„ ÙŠØ¹Ù…Ù„ 100% Ø¨Ø¯ÙˆÙ† IFrame API**  
ÙˆØ¨Ø§Ù„ØªØ§Ù„ÙŠ:

# ğŸ‰ Ø§Ù„Ù†ØªÙŠØ¬Ø©:
âœ” ÙŠØ¹Ù…Ù„ Ø¯Ø§Ø®Ù„ GitHub Pages  
âœ” Ù„Ø§ ÙŠØ¹ØªÙ…Ø¯ Ø¹Ù„Ù‰ API (ÙˆØ§Ù„ØªÙŠ ÙƒØ§Ù†Øª Ù…Ø­Ø¬ÙˆØ¨Ø© Ø¹Ù†Ø¯Ùƒ)  
âœ” ÙŠØ´ØºÙ‘Ù„ Ø£ÙŠ ÙÙŠØ¯ÙŠÙˆ YouTube ÙÙˆØ±Ù‹Ø§  
âœ” ÙŠØ¯Ø¹Ù… Ø±ÙˆØ§Ø¨Ø·:  
- `watch?v=`  
- `youtu.be`  
- `embed/`  
- `shorts/`  
âœ” Ø¨Ø¯ÙˆÙ† Ø§Ù„Ø­Ø§Ø¬Ø© Ù„Ø£ÙŠ Ø³ÙƒØ±Ø¨Øª Ø®Ø§Ø±Ø¬ÙŠ  
âœ” Ø¨Ø¯ÙˆÙ† "Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ YouTube API"  
âœ” Ø¨Ø¯ÙˆÙ† Ù…Ø´Ø§ÙƒÙ„ Ø­Ø¬Ø¨  

# âŒ Ù…Ø§ Ø§Ù„Ø°ÙŠ Ù„Ù† ÙŠÙ‚Ø¯Ù…Ù‡ Ù‡Ø°Ø§ Ø§Ù„Ø­Ù„ØŸ
- Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø¬ÙˆØ¯Ø© ÙŠØ¯ÙˆÙŠÙ‹Ø§  
- Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ­ÙƒÙ… ÙÙŠ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ Ø¹Ø¨Ø± JS (play/pause/seek)  
Ù„Ø£Ù† Ù‡Ø°Ù‡ Ø§Ù„Ù…ÙŠØ²Ø§Øª **ØªØ­ØªØ§Ø¬ API ÙˆÙŠÙÙ…Ù†Ø¹ ØªØ­Ù…ÙŠÙ„Ù‡ Ù„Ø¯ÙŠÙƒ Ø¬ØºØ±Ø§ÙÙŠØ§Ù‹**.

Ù„ÙƒÙ† Ø§Ù„ØªØ´ØºÙŠÙ„ **ÙŠØ¹Ù…Ù„ 100%**.

---

# ğŸ’¯ Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ â€” Ø¬Ø§Ù‡Ø² Ù„Ù„Ù†Ø³Ø® Ø¥Ù„Ù‰ `index.html`

> Ù‡Ø°Ø§ Ù‡Ùˆ Ø§Ù„Ø­Ù„ Ø§Ù„ØµØ­ÙŠØ­ ÙˆØ§Ù„Ù†Ù‡Ø§Ø¦ÙŠ Ù„ÙˆØ¶Ø¹Ùƒ.

```html
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>YouTube Player Ø¨Ø¯ÙˆÙ† API</title>

<style>
body{
  background:#0b1020;
  color:#fff;
  font-family:Tahoma,Arial,sans-serif;
  padding:20px;
}
.box{
  max-width:900px;
  margin:auto;
  background:#121a33;
  padding:16px;
  border-radius:14px;
  border:1px solid rgba(255,255,255,.15);
}
.row{display:flex;gap:10px;flex-wrap:wrap}
input{
  flex:1 1 550px;
  padding:12px;
  border-radius:10px;
  border:1px solid rgba(255,255,255,.2);
  background:rgba(0,0,0,.25);
  color:#fff;
  outline:none;
  direction:ltr;
}
button{
  padding:11px 14px;
  border-radius:10px;
  border:0;
  background:#5b8cff;
  color:#07102a;
  font-weight:700;
  cursor:pointer;
}
.msg{
  margin-top:10px;
  font-size:13px;
  color:#a9b3d6;
}
.player{
  margin-top:20px;
  border-radius:14px;
  overflow:hidden;
  border:1px solid rgba(255,255,255,.15);
}
.ratio{
  position:relative;
  padding-top:56.25%;
}
iframe{
  position:absolute;
  inset:0;
  width:100%;
  height:100%;
  border:0;
  background:#000;
}
</style>

</head>
<body>

<div class="box">
  <h3>Ø£Ø¯Ø®Ù„ Ø±Ø§Ø¨Ø· ÙÙŠØ¯ÙŠÙˆ YouTube Ø«Ù… Ø§Ø¶ØºØ· ØªØ´ØºÙŠÙ„</h3>

  <div class="row">
    <input id="url" placeholder="Ù…Ø«Ø§Ù„: https://www.youtube.com/watch?v=QhIB8QZVLNE Ø£Ùˆ youtu.be/ID">
    <button onclick="play()">ØªØ´ØºÙŠÙ„</button>
  </div>

  <div id="msg" class="msg">
    â€¢ Ù‡Ø°Ø§ Ø§Ù„Ù…Ø´ØºÙ‘Ù„ ÙŠØ¹Ù…Ù„ Ø¨Ø¯ÙˆÙ† YouTube APIØŒ Ù„Ø°Ù„Ùƒ ÙŠØ¹Ù…Ù„ 100% Ø­ØªÙ‰ Ù„Ùˆ ÙƒØ§Ù†Øª API Ù…Ø­Ø¬ÙˆØ¨Ø©.
  </div>

  <div id="player" class="player" style="display:none">
    <div class="ratio">
      <iframe id="ytFrame" allow="autoplay; encrypted-media" allowfullscreen></iframe>
    </div>
  </div>
</div>

<script>
// Ø§Ø³ØªØ®Ø±Ø§Ø¬ ID Ù…Ù† Ø¬Ù…ÙŠØ¹ Ø£Ù†ÙˆØ§Ø¹ Ø±ÙˆØ§Ø¨Ø· ÙŠÙˆØªÙŠÙˆØ¨
function extractYouTubeID(url){
  try{
    // Ø±ÙˆØ§Ø¨Ø· youtu.be
    if(url.includes("youtu.be/")){
      return url.split("youtu.be/")[1].split(/[?&]/)[0];
    }
    // Ø±ÙˆØ§Ø¨Ø· embed
    if(url.includes("/embed/")){
      return url.split("/embed/")[1].split(/[?&]/)[0];
    }
    // Ø±ÙˆØ§Ø¨Ø· shorts
    if(url.includes("/shorts/")){
      return url.split("/shorts/")[1].split(/[?&]/)[0];
    }
    // Ø±ÙˆØ§Ø¨Ø· watch?v=
    if(url.includes("watch?v=")){
      return new URL(url).searchParams.get("v");
    }
  }catch(e){
    return null;
  }
  return null;
}

// ØªØ´ØºÙŠÙ„ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ Ø¯Ø§Ø®Ù„ iframe Ø¨Ø¯ÙˆÙ† API
function play(){
  const u = document.getElementById("url").value.trim();
  const msg = document.getElementById("msg");

  if(!u){
    msg.innerHTML = "âŒ Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø±Ø§Ø¨Ø· YouTube";
    return;
  }

  const id = extractYouTubeID(u);

  if(!id){
    msg.innerHTML = "âŒ Ù„Ù… Ø£Ø³ØªØ·Ø¹ Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ù…Ø¹Ø±Ù Ø§Ù„ÙÙŠØ¯ÙŠÙˆ. ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ù„Ø±Ø§Ø¨Ø·.";
    return;
  }

  // Ø¥Ù†Ø´Ø§Ø¡ Ø±Ø§Ø¨Ø· embed
  const embed = "https://www.youtube.com/embed/" + id + "?autoplay=1&rel=0&modestbranding=1";

  document.getElementById("ytFrame").src = embed;
  document.getElementById("player").style.display = "block";

  msg.innerHTML = "âœ” ØªÙ… ØªØ´ØºÙŠÙ„ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ";
}
</script>

</body>
</html>
